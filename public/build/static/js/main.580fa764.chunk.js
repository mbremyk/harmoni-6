(this.webpackJsonppublic=this.webpackJsonppublic||[]).push([[0],{193:function(e,t,a){e.exports=a(349)},206:function(e,t){},208:function(e,t){},239:function(e,t){},240:function(e,t){},349:function(e,t,a){"use strict";a.r(t);var n=a(11),r=a(12),l=a(20),s=a(17),c=a(19),o=a(0),i=a.n(o),u=a(18),m=a(188),h=a(45),d=a(67),p=a.n(d),E=a(22),g=(a(199),a(37)),v=a(6),f=a(23),b=a(39),w=a(50),y=a.n(w),C=a(202);function k(e){var t,a,n=arguments;return y.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:if(t=n.length>1&&void 0!==n[1]?n[1]:""){r.next=5;break}return r.next=4,y.a.awrap(C.genSalt(10));case 4:t=r.sent;case 5:return r.next=7,y.a.awrap(C.hash(e,t));case 7:return a=r.sent,e=void 0,r.abrupt("return",[a,t]);case 10:case"end":return r.stop()}}))}var j=a(95),O=a.n(j),P="";P=window.location.href.includes("localhost")?"http://localhost:5001/harmoni-6/us-central1/webApi/api/v1":"https://us-central1-harmoni-6.cloudfunctions.net/webApi/api/v1";var L=function e(){Object(n.a)(this,e)},N=new(function(){function e(){Object(n.a)(this,e)}return Object(r.a)(e,[{key:"createUser",value:function(e){return O.a.post(P+"/user",e).then((function(e){return e.data}))}},{key:"getEvents",value:function(){return O.a.get(P+"/events").then((function(e){return e.data}))}},{key:"getAccessToken",value:function(e,t){return O.a.post(P+"/accesstoken/",{email:e,hashedPassword:t}).then((function(e){return e.data}))}}]),e}()),S=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={username:"",email:"",password1:"",password2:"",salt:"",hash:""},a.handleEmailChange=a.handleEmailChange.bind(Object(g.a)(a)),a.handleUsernameChange=a.handleUsernameChange.bind(Object(g.a)(a)),a.handlePassword1Change=a.handlePassword1Change.bind(Object(g.a)(a)),a.handlePassword2Change=a.handlePassword2Change.bind(Object(g.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleUsernameChange",value:function(e){this.setState({username:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePassword1Change",value:function(e){this.setState({password1:e.target.value})}},{key:"handlePassword2Change",value:function(e){this.setState({password2:e.target.value})}},{key:"handleSubmit",value:function(){var e=this;console.log("handle Submit user"),this.state.password1==this.state.password2?k(this.state.password1).then((function(t){return e.submit(t)})).catch((function(e){return alert("En feil oppsto.")})):alert("Passordene stemmer ikke")}},{key:"submit",value:function(e){console.log("Submit user"+e);var t=new L;t.email=this.state.email,t.username=this.state.username,t.password=e[0],t.salt=e[1],alert("Hash and salt\n"+e[0]+"\n"+e[1])}},{key:"render",value:function(){return o.createElement(b.a,null,o.createElement(v.a,null,o.createElement(v.a.Group,{controlId:"formBasicUsername"},o.createElement(v.a.Label,null,"Brukernavn"),o.createElement(v.a.Control,{type:"username",placeholder:"Skriv inn brukernavn",value:this.state.username,onChange:this.handleUsernameChange})),o.createElement(v.a.Group,{controlId:"formBasicEmail"},o.createElement(v.a.Label,null,"Email"),o.createElement(v.a.Control,{type:"email",placeholder:"Skriv inn email",value:this.state.email,onChange:this.handleEmailChange})),o.createElement(v.a.Group,{controlId:"formBasicPassword1"},o.createElement(v.a.Label,null,"Passord"),o.createElement(v.a.Control,{type:"password",placeholder:"Skriv inn passord",value:this.state.password1,onChange:this.handlePassword1Change})),o.createElement(v.a.Group,{controlId:"formBasicPassword2"},o.createElement(v.a.Label,null,"Gjenta passord"),o.createElement(v.a.Control,{type:"password",placeholder:"Gjenta passord",value:this.state.password2,onChange:this.handlePassword2Change})),o.createElement(f.a,{onClick:this.handleSubmit,variant:"primary",type:"button"},"Opprett bruker"),o.createElement(f.a,{href:"hjem",variant:"secondary",type:"button"},"Avbryt")))}}]),t}(u.Component),A=a(351),G=a(24),x=a(352),D=a(353),I=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.createElement(G.a,{md:12,lg:4},o.createElement(D.a,null,o.createElement(D.a.Img,{variant:"top",src:this.props.image}),o.createElement(D.a.Body,null,o.createElement(D.a.Title,null,this.props.title),o.createElement(D.a.Text,null,o.createElement("div",{className:"font-weight-bold "},"Adresse"),this.props.address,o.createElement("div",{className:"font-weight-bold"},"Pris"),this.props.price,o.createElement("div",{className:"font-weight-bold"},"Aldersgrense"),o.createElement("div",{className:"font-italic"},this.props.age_limit),o.createElement("div",{className:"font-weight-bold"},"Fra"),this.props.start_date,o.createElement("div",{className:"font-weight-bold"},"Til"),this.props.end_date)),o.createElement(D.a.Footer,null,o.createElement("small",{className:"text-muted"}," Publisert ",this.props.uploaded))))}}]),t}(u.Component),T=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).events=[],a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return o.createElement("div",null,o.createElement("div",{className:"landingpage"},o.createElement(b.a,null,o.createElement(A.a,null,o.createElement(G.a,{md:{span:3,offset:5}},o.createElement("h1",null," Harmoni "))),o.createElement(A.a,null,o.createElement(G.a,{md:{span:3,offset:5}},o.createElement(f.a,{variant:"primary",size:"lg",onClick:function(){return e.logIn()},href:"logg-inn"},"Logg inn"))))),o.createElement(b.a,null,o.createElement(A.a,null,o.createElement(G.a,null,o.createElement(v.a.Control,{placeholder:"S\xf8k etter arragement"})))),o.createElement(b.a,null,o.createElement(A.a,null,this.events.map((function(e){return o.createElement(I,{image:e.image,title:e.title,address:e.address,price:"0",age_limit:e.ageLimit,start_date:e.startTime,end_date:e.endTime})})))))}},{key:"mounted",value:function(){var e=this;N.getEvents().then((function(t){return e.events=t})).catch((function(e){return o.createElement(x.a,{variant:"danger"}," error.message ")}))}},{key:"logIn",value:function(){}}]),t}(u.Component),B=a(69),U=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={email:"",password:""},a.handleEmailChange=a.handleEmailChange.bind(Object(g.a)(a)),a.handlePasswordChange=a.handlePasswordChange.bind(Object(g.a)(a)),a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"render",value:function(){var e=this;return o.createElement(b.a,null,o.createElement(v.a,null,o.createElement(v.a.Group,{controlId:"formBasicEmail"},o.createElement(v.a.Label,null,"Email"),o.createElement(v.a.Control,{type:"email",placeholder:"Skriv inn email",value:this.state.email,onChange:this.handleEmailChange})),o.createElement(v.a.Group,{controlId:"formBasicPassword"},o.createElement(v.a.Label,null,"Passord"),o.createElement(v.a.Control,{type:"password",placeholder:"Skriv inn passord",value:this.state.password,onChange:this.handlePasswordChange})),o.createElement(f.a,{onClick:function(){return alert("Email: "+e.state.email+" Password: "+e.state.password)},variant:"primary",type:"submit"},"Login"),o.createElement(B.a,{href:"/ny-bruker"},"Opprett bruker her!")))}},{key:"hashPassword",value:function(){return k(this.state.password)}},{key:"getAccessToken",value:function(){return N.getAccessToken(this.state.email,this.hashPassword(this.state.password))}}]),t}(u.Component),F=a(56),M=a(57),J=a(44),_=function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return o.createElement("div",null,o.createElement(F.a,{bg:"light"},o.createElement(F.a.Brand,{href:"/"},"Harmoni")),o.createElement(F.a,{bg:"light",expand:"lg"},o.createElement(F.a.Toggle,{"aria-controls":"basic-navbar-nav"}),o.createElement(F.a.Collapse,{id:"basic-navbar-nav"},o.createElement(M.a,{className:"mr-auto"},o.createElement(M.a.Link,{href:"/hjem"},"Hjem"),o.createElement(M.a.Link,{href:"/opprett-arrangement"},"Opprett arrangement"),o.createElement(M.a.Link,{href:"/min-side"},"Min side"),o.createElement(M.a.Link,{href:"/logg-inn"},"Logg inn")),o.createElement(v.a,{inline:!0},o.createElement(J.a,{type:"text",placeholder:"S\xf8k",className:"mr-sm-2",onKeyPress:function(t){"Enter"===t.key&&e.search()}}),o.createElement(f.a,{variant:"outline-success",onClick:this.search},"S\xf8k")))))}},{key:"search",value:function(){alert("Search clicked")}}]),t}(u.Component),H=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(l.a)(this,Object(s.a)(t).call(this,e))).state={username:"Navn Navnesen",email:"epost@epost.no",password:"",newpass:"",repnewpass:""},a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.createElement(b.a,null,o.createElement(v.a,null,o.createElement("h1",null,"Min side"),o.createElement(v.a.Group,null,o.createElement(v.a.Label,null,"Navn"),o.createElement(v.a.Control,{value:this.state.username,onChange:this.handleUsernameChange})),o.createElement(v.a.Group,{controlId:"formBasicEmail"},o.createElement(v.a.Label,null,"E-post"),o.createElement(v.a.Control,{value:this.state.email,onChange:this.handleEmailChange})),o.createElement(v.a.Group,{controlId:"formBasicPassword"},o.createElement(v.a.Label,null,"Passord"),o.createElement("text",{className:"text-danger"}," *"),o.createElement(v.a.Control,{type:"password",placeholder:"Passord",value:this.state.password,onChange:this.handlePasswordChange})),o.createElement(v.a.Group,{controlId:"formBasicPassword"},o.createElement(v.a.Label,null,"Nytt passord"),o.createElement(v.a.Control,{type:"password",placeholder:"Nytt passord",value:this.state.newpass,onChange:this.handleNewPasswordChange})),o.createElement(v.a.Group,{controlId:"formBasicPassword"},o.createElement(v.a.Label,null,"Gjenta nytt passord"),o.createElement(v.a.Control,{type:"password",placeholder:"Gjenta nytt passord",value:this.state.repnewpass,onChange:this.handleRepNewPasswordChange})),o.createElement(f.a,{variant:"primary",type:"submit",onClick:this.save},"Lagre")))}},{key:"mounted",value:function(){}},{key:"save",value:function(){"123"===this.state.password&&(""===this.state.newpass&&""===this.state.repnewpass?alert("Saved. Name: "+this.state.name+" Email: "+this.state.email):this.state.newpass===this.state.repnewpass&&alert("password changed to: "+this.state.newpass))}},{key:"handleUsernameChange",value:function(e){this.setState({name:e.target.value})}},{key:"handleEmailChange",value:function(e){this.setState({email:e.target.value})}},{key:"handlePasswordChange",value:function(e){this.setState({password:e.target.value})}},{key:"handleNewPasswordChange",value:function(e){this.setState({newpass:e.target.value})}},{key:"handleRepNewPasswordChange",value:function(e){this.setState({repnewpass:e.target.value})}}]),t}(u.Component),K=a(191),R=a(120),V=a.n(R),z=a(186),W=a(187),q=a(73),Q=a(48),X=a(185),Y=a(93),Z=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(a=Object(l.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(c)))).eventName="",a.eventAdress="",a.eventDescription="",a.ageLimit=0,a.CustomMenu=i.a.forwardRef((function(e,t){var a=e.children,n=e.style,r=e.className,l=e["aria-labelledby"],s=i.a.useState(""),c=Object(K.a)(s,2),o=c[0],u=c[1];return i.a.createElement("div",{ref:t,style:n,className:r,"aria-labelledby":l},i.a.createElement(J.a,{autoFocus:!0,className:"mx-3 my-2 w-auto",placeholder:"Type to filter...",onChange:function(e){return u(e.target.value)},value:o}),i.a.createElement("ul",{className:"list-unstyled"},i.a.Children.toArray(a).filter((function(e){return!o||e.props.children.toLowerCase().startsWith(o)}))))})),a.state={fDate:new Date,tDate:new Date},a.riderFilename="",a.onChange=function(e){return a.setState({date:e})},a.artists=[],a}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return i.a.createElement(b.a,null,i.a.createElement(v.a,null,i.a.createElement(v.a.Row,null,i.a.createElement(v.a.Group,{as:G.a,sm:"12"},i.a.createElement("h1",{className:"font-weight-bold text-center"},"Opprett arrangement")),i.a.createElement(v.a.Group,{as:G.a,sm:"12"},i.a.createElement(v.a.Label,null,"Arrangementsnavn"),i.a.createElement(v.a.Control,{placeholder:"Navn p\xe5 arrangement . . .",value:this.eventName,onChange:function(t){e.eventName=t.target.value}})),i.a.createElement(v.a.Group,{as:G.a,sm:"12"},i.a.createElement(v.a.Label,null,"Adresse"),i.a.createElement(v.a.Control,{placeholder:"Adresse der arrangementet skal holdes . . .",value:this.eventAdress,onChange:function(t){e.eventAdress=t.target.value}})),i.a.createElement(v.a.Group,{as:G.a,sm:12},i.a.createElement(v.a.Label,null,"Beskrivelse"),i.a.createElement(v.a.Control,{placeholder:"Her kan du skrive en kort beskrivelse av arrangementet (max. 500 ord) . . .",as:"textarea",rows:"8",value:this.eventDescription,onChange:function(t){return e.eventDescription=t.target.value}})),i.a.createElement(v.a.Group,{as:G.a,sm:"2"},i.a.createElement(v.a.Label,null,"Artist"),i.a.createElement(Q.a,{onSelect:function(t){return e.addArtist(t)}},i.a.createElement(Q.a.Toggle,{variant:"success",id:"dropdown"},"Velg artist"),i.a.createElement(Q.a.Menu,{as:this.CustomMenu},i.a.createElement(Q.a.Item,{eventKey:"Marius"},"Marius"),i.a.createElement(Q.a.Item,{eventKey:"Jakob"},"Jakob"),i.a.createElement(Q.a.Item,{eventKey:"Steffen"},"Steffen"),i.a.createElement(Q.a.Item,{eventKey:"Jan"},"Jan")))),i.a.createElement(v.a.Group,{as:G.a,sm:"10"},i.a.createElement(X.a,{title:"Valgte artister"},this.artists.map((function(e){return i.a.createElement(i.a.Fragment,{key:e},i.a.createElement(Y.a,null,e))})))),i.a.createElement(v.a.Group,{as:G.a,sm:"6"},i.a.createElement(v.a.Label,null,"Fra Dato:"),i.a.createElement(V.a,{className:"m-4 font-weight-bold",id:"fromDatePicker",name:"fdate",selected:this.state.fDate,value:this.state.fDate,onChange:function(t){return e.changeDate("fdate",t)}})),i.a.createElement(v.a.Group,{as:G.a,sm:"6"},i.a.createElement(v.a.Label,null,"Til Dato:"),i.a.createElement(V.a,{className:"m-4 font-weight-bold",id:"toDatePicker",name:"tdate",selected:this.state.tDate,value:this.state.tDate,onChange:function(t){return e.changeDate("tdate",t)}})),i.a.createElement(v.a.Group,{as:G.a,sm:"6"},i.a.createElement(v.a.Label,null,"Aldersgrense"),i.a.createElement(z.a,{className:"mb-3","aria-label":"Toolbar with Button groups"},i.a.createElement(W.a,{className:"mr-2","aria-label":"button-group"},i.a.createElement(f.a,{onClick:this.decrementAge},"-"),i.a.createElement(f.a,{onClick:this.IncrementAge},"+")),i.a.createElement(q.a,null,i.a.createElement(J.a,{value:this.ageLimit,onChange:function(t){return e.ageLimit=t.target.value},"aria-label":"btn-age","aria-describedby":"btnGroupAddon"}),i.a.createElement(q.a.Append,null,i.a.createElement(q.a.Text,{id:"btnGroupAddon"},"\xe5r"))))),i.a.createElement(v.a.Group,{as:G.a,sm:"6"},i.a.createElement(v.a.Label,null,"Last opp rider"),i.a.createElement(q.a,{className:"mb-5"},i.a.createElement(J.a,{type:"file",value:this.riderFilename}))),i.a.createElement(v.a.Group,{as:G.a,md:{span:3,offset:5}},i.a.createElement(f.a,{type:"submit"},"Opprett arrangementet")))))}},{key:"changeDate",value:function(e,t){var a=this.state,n=a.fDate,r=a.tDate;"fdate"===e?n=t:r=t,this.setState({fDate:n,tDate:r})}},{key:"IncrementAge",value:function(){this.ageLimit++}},{key:"decrementAge",value:function(){this.ageLimit>0&&this.ageLimit--}},{key:"addArtist",value:function(e){this.artists.push(e)}}]),t}(u.Component),$=(Object(E.a)(),function(e){function t(){return Object(n.a)(this,t),Object(l.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(c.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return o.createElement("div",null,o.createElement("button",{onClick:this.test},"Test webapp"))}},{key:"test",value:function(){console.log("Test called"),fetch("http://localhost:5001/harmoni-6/us-central1/webApi/api/v1/test",{method:"GET",headers:{"Content-Type":"application/json; charset=utf-8","x-access-token":"undefined","Access-Control-Allow-Origin":"true"}}).then((function(e){return alert(e.json())})).catch((function(e){return alert(e)}))}}]),t}(u.Component)),ee=document.getElementById("root");ee&&p.a.render(o.createElement(m.a,null,o.createElement("div",null,o.createElement(h.a,{path:"/",component:_}),o.createElement(h.a,{exact:!0,path:"/",component:T}),o.createElement(h.a,{exact:!0,path:"/ny-bruker",component:S}),o.createElement(h.a,{exact:!0,path:"/min-side",component:H}),o.createElement(h.a,{exact:!0,path:"/logg-inn",component:U}),o.createElement(h.a,{exact:!0,path:"/",component:$}),o.createElement(h.a,{exact:!0,path:"/opprett-arrangement",component:Z}))),ee)}},[[193,1,2]]]);
//# sourceMappingURL=main.580fa764.chunk.js.map